{"version":3,"sources":["./src/app/shell/users/user-about/user-about.component.ts","./src/app/shell/users/user-about/user-about.template.html","./src/app/shell/users/user-history/user-history.component.ts","./src/app/shell/users/user-history/user-history.template.html","./src/app/shell/users/users.component.ts","./src/app/shell/users/users.template.html","./src/app/shell/users/users.module.ts","./src/app/shell/users/users.routes.ts"],"names":[],"mappings":"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","file":"shell-users-users-module-es2015.js","sourcesContent":["\nimport { Component, Input, OnInit } from '@angular/core';\nimport { EngineUser } from '@placeos/ts-client';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { ApplicationService } from 'src/app/services/app.service';\n\n@Component({\n    selector: 'user-about',\n    templateUrl: './user-about.template.html',\n    styleUrls: ['./user-about.styles.scss']\n})\nexport class UserAboutComponent extends BaseDirective implements OnInit {\n    @Input() public item: EngineUser;\n\n    constructor(private _service: ApplicationService) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'item',\n            this._service.listen('BACKOFFICE.active_item').subscribe(item => {\n                this.item = item;\n            })\n        );\n    }\n\n}\n","<div class=\"container\" *ngIf=\"item\">\n    <section class=\"details\">\n        <div class=\"field\" *ngIf=\"item.created_at\">\n            <label i18n=\"@@userCreatedAtLabel\">Created:</label>\n            <div class=\"value\">{{ item.created_at * 1000 | dateFrom }}</div>\n        </div>\n        <div class=\"field\" *ngIf=\"item.updated_at\">\n            <label i18n=\"@userUpdatedAtLabel\">Updated:</label>\n            <div class=\"value\">{{ item.updated_at * 1000 | dateFrom }}</div>\n        </div>\n    </section>\n    <div class=\"settings\">\n        <header i18n=\"@@permissionsHeader\">Permissions</header>\n        <section>\n            <table>\n                <tr>\n                    <td class=\"field\" i18n=\"@@techSupportRole\">Tech Support</td>\n                    <td class=\"flex\">{{ item.support === true }}</td>\n                </tr>\n                <tr>\n                    <td class=\"field\" i18n=\"@@systemAdminRole\">System Admin</td>\n                    <td class=\"flex\">{{ item.sys_admin === true }}</td>\n                </tr>\n            </table>\n        </section>\n    </div>\n</div>\n","\nimport { Component, Input, OnChanges, SimpleChange, OnInit } from '@angular/core';\nimport { EngineUser } from '@placeos/ts-client';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { ApplicationService } from '../../../services/app.service';\n\n@Component({\n    selector: 'user-history',\n    templateUrl: './user-history.template.html',\n    styleUrls: ['./user-history.styles.scss']\n})\nexport class UserHistoryComponent extends BaseDirective implements OnChanges, OnInit {\n    @Input() public item: EngineUser;\n\n    public model: any = {};\n\n    constructor(private _service: ApplicationService) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'item',\n            this._service.listen('BACKOFFICE.active_item').subscribe(item => {\n                this.item = item;\n                this.ngOnChanges({ item: new SimpleChange(null, this.item, false) });\n            })\n        );\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.item && this.item) {\n            this.loadUserLogs();\n        }\n    }\n\n    public loadUserLogs(offset: number = 0) {\n        this._service.Logs.query({ offset, user_id: this.item.id }).then((list) => {\n            if (!offset) { this.model.list = []; }\n            for (const item of (list || [])) {\n                let found = false;\n                for (const i of this.model.list) {\n                    if (i.id === item.id) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) { this.model.list.push(item); }\n            }\n        }, () => null);\n    }\n}\n","<div class=\"container\" *ngIf=\"item\">\n    <div class=\"list\" *ngIf=\"model.logs && model.logs.length > 0\">\n        <table>\n            <thead>\n                <td class=\"start\" i18n=\"@@logEventStart\">Session Start</td>\n                <td class=\"end\" i18n=\"@@logEventEnd\">Ended</td>\n                <td class=\"flex\" i18n=\"@@logEventAction\">Systems Accessed</td>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let item of model.logs\">\n                    <td class=\"start\">{{item.display?.started}}</td>\n                    <td class=\"end\">{{item.display?.ended}}</td>\n                    <td class=\"flex\">\n                        <div>{{item.systems.length}}</div>\n                        <div>View</div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"info-block\" *ngIf=\"!model.logs || model.logs.length <= 0\">\n        <div class=\"text\" i18n=\"@@logTableEmpty\">No logs found</div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { EngineUser } from '@placeos/ts-client';\n\nimport { ApplicationService } from '../../services/app.service';\nimport { BaseRootComponent } from '../../shared/components/base-root.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ItemCreateUpdateModalComponent } from 'src/app/overlays/item-modal/item-modal.component';\nimport {\n    ConfirmModalComponent,\n    ConfirmModalData,\n    CONFIRM_METADATA\n} from 'src/app/overlays/confirm-modal/confirm-modal.component';\nimport { DialogEvent } from 'src/app/shared/utilities/types.utilities';\n\n@Component({\n    selector: 'app-users',\n    templateUrl: './users.template.html',\n    styleUrls: ['./users.styles.scss']\n})\nexport class UsersComponent extends BaseRootComponent<EngineUser> {\n    constructor(\n        protected _service: ApplicationService,\n        protected _route: ActivatedRoute,\n        protected _router: Router,\n        private _dialog: MatDialog\n    ) {\n        super(_service, _route, _router);\n        this.service = this._service.Users as any;\n    }\n\n    public ngOnInit(): void {\n        super.ngOnInit();\n        this._service.title = 'Users';\n    }\n\n    /**\n     * Open the modal to create a new system\n     */\n    protected newItem(copy: boolean = false) {\n        if (this.modal_ref) { return; }\n        this.modal_ref = this._dialog.open(ItemCreateUpdateModalComponent, {\n            height: 'auto',\n            width: 'auto',\n            maxHeight: 'calc(100vh - 2em)',\n            maxWidth: 'calc(100vw - 2em)',\n            data: {\n                item: copy ? new EngineUser({ ...this.item, id: '', name: `${this.item.name} (1)` }) : new EngineUser(),\n                service: this._service.Users\n            }\n        });\n        this.modal_ref.componentInstance.event.subscribe(event => {\n            if (event.reason === 'done') {\n                this._router.navigate(['/users', event.metadata.item.id]);\n            }\n        });\n        this.modal_ref.afterClosed().subscribe(() => {\n            this.unsub('modal_events');\n            this.modal_ref = null;\n        });\n    }\n\n    /**\n     * Open the modal to create a new system\n     */\n    protected editItem() {\n        if (this.item && !this.modal_ref) {\n            this.modal_ref = this._dialog.open(ItemCreateUpdateModalComponent, {\n                height: 'auto',\n                width: 'auto',\n                maxHeight: 'calc(100vh - 2em)',\n                maxWidth: 'calc(100vw - 2em)',\n                data: {\n                    item: this.item,\n                    service: this._service.Users\n                }\n            });\n            this.modal_ref.afterClosed().subscribe(() => {\n                this.unsub('modal_events');\n                this.modal_ref = null;\n            });\n        }\n    }\n\n    protected deleteItem() {\n        if (this.item && !this.modal_ref) {\n            this.modal_ref = this._dialog.open<ConfirmModalComponent, ConfirmModalData>(\n                ConfirmModalComponent,\n                {\n                    ...CONFIRM_METADATA,\n                    data: {\n                        title: `Delete user`,\n                        content: `<p>Are you sure you want delete this user?</p><p>The user will be removed from the system within 24 hours</p>`,\n                        icon: { type: 'icon', class: 'backoffice-trash' }\n                    }\n                }\n            );\n            this.subscription(\n                'delete_confirm',\n                this.modal_ref.componentInstance.event.subscribe((event: DialogEvent) => {\n                    if (event.reason === 'done') {\n                        this.modal_ref.componentInstance.loading = 'Deleting user...';\n                        this.item.delete().then(\n                            () => {\n                                this._service.notifySuccess(\n                                    `Successfully deleted user \"${this.item.name}\".`\n                                );\n                                this._router.navigate(['/users']);\n                                this._service.set('BACKOFFICE.removed', this.item.id);\n                                this.modal_ref.close();\n                            },\n                            err => {\n                                this.modal_ref.componentInstance.loading = null;\n                                this._service.notifyError(`Error deleting user. Error: ${JSON.stringify(err.response || err.message || err)}`);\n                            }\n                        );\n                    }\n                })\n            );\n            this.modal_ref.afterClosed().subscribe(() => {\n                this.unsub('modal_events');\n                this.modal_ref = null;\n            });\n        }\n    }\n}\n","<div class=\"container\" [class.show]=\"show_sidebar\">\n    <div class=\"sidebar\">\n        <sidebar\n            heading=\"Users\"\n            [module]=\"module\"\n            [close]=\"show_sidebar\"\n            (event)=\"sidebarEvent($event)\"\n        ></sidebar>\n    </div>\n    <main (touchrelease)=\"show_sidebar = false\">\n        <item-display\n            name=\"user\"\n            route=\"users\"\n            [item]=\"item\"\n            [loading]=\"loading_item\"\n            [tabs]=\"[\n                { id: 'about', name: 'About', icon: { class: 'backoffice-info-with-circle' } },\n                { id: 'history', name: 'History', icon: { class: 'backoffice-list' } }\n            ]\"\n            (event)=\"itemEvent($event)\"\n        >\n        </item-display>\n    </main>\n</div>\n","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { ROUTES } from './users.routes';\n\nimport { UsersComponent } from './users.component';\nimport { UserAboutComponent } from './user-about/user-about.component';\nimport { UserHistoryComponent } from './user-history/user-history.component';\nimport { SharedContentModule } from 'src/app/shared/shared.module';\n\n\n@NgModule({\n    declarations: [\n        UsersComponent,\n        UserAboutComponent,\n        UserHistoryComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        RouterModule.forChild(ROUTES),\n        SharedContentModule\n    ]\n})\nexport class AppUsersModule { }\n","import { Routes } from '@angular/router';\n\nimport { UsersComponent } from './users.component';\nimport { UserAboutComponent } from './user-about/user-about.component';\nimport { UserHistoryComponent } from './user-history/user-history.component';\n\nexport const ROUTES: Routes = [\n    {\n        path: ':id',\n        component: UsersComponent,\n        children: [\n            { path: 'about', component: UserAboutComponent },\n            { path: 'history', component: UserHistoryComponent },\n            { path: '**', redirectTo: 'about' }\n        ]\n    },\n    { path: '**', redirectTo: '-' }\n];\n"],"sourceRoot":"webpack:///"}