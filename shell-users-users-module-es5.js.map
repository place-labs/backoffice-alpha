{"version":3,"sources":["webpack:///src/app/shell/users/user-about/user-about.component.ts","webpack:///src/app/shell/users/user-about/user-about.template.html","webpack:///src/app/shell/users/user-history/user-history.component.ts","webpack:///src/app/shell/users/user-history/user-history.template.html","webpack:///src/app/shell/users/users.component.ts","webpack:///src/app/shell/users/users.template.html","webpack:///src/app/shell/users/users.module.ts","webpack:///src/app/shell/users/users.routes.ts"],"names":["UserAboutComponent","_service","subscription","listen","subscribe","item","selector","templateUrl","styleUrls","UserHistoryComponent","model","ngOnChanges","changes","loadUserLogs","offset","Logs","query","user_id","id","then","list","found","i","push","UsersComponent","_route","_router","_dialog","service","Users","title","modal_ref","open","height","width","maxHeight","maxWidth","data","componentInstance","event","reason","navigate","metadata","afterClosed","unsub","content","icon","type","loading","notifySuccess","name","set","close","err","notifyError","JSON","stringify","response","message","sidebarEvent","itemEvent","AppUsersModule","forChild","declarations","imports","ROUTES","path","component","children","redirectTo"],"mappings":"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","file":"shell-users-users-module-es5.js","sourcesContent":["\nimport { Component, Input, OnInit } from '@angular/core';\nimport { EngineUser } from '@placeos/ts-client';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { ApplicationService } from 'src/app/services/app.service';\n\n@Component({\n    selector: 'user-about',\n    templateUrl: './user-about.template.html',\n    styleUrls: ['./user-about.styles.scss']\n})\nexport class UserAboutComponent extends BaseDirective implements OnInit {\n    @Input() public item: EngineUser;\n\n    constructor(private _service: ApplicationService) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'item',\n            this._service.listen('BACKOFFICE.active_item').subscribe(item => {\n                this.item = item;\n            })\n        );\n    }\n\n}\n","<div class=\"container\" *ngIf=\"item\">\n    <div class=\"settings\">\n        <header i18n=\"@@permissionsHeader\">Permissions</header>\n        <section>\n            <table>\n                <tr>\n                    <td class=\"field\" i18n=\"@@techSupportRole\">Tech Support</td>\n                    <td class=\"flex\">{{ item.support === true }}</td>\n                </tr>\n                <tr>\n                    <td class=\"field\" i18n=\"@@systemAdminRole\">System Admin</td>\n                    <td class=\"flex\">{{ item.sys_admin === true }}</td>\n                </tr>\n            </table>\n        </section>\n    </div>\n</div>\n","\nimport { Component, Input, OnChanges, SimpleChange, OnInit } from '@angular/core';\nimport { EngineUser } from '@placeos/ts-client';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { ApplicationService } from '../../../services/app.service';\n\n@Component({\n    selector: 'user-history',\n    templateUrl: './user-history.template.html',\n    styleUrls: ['./user-history.styles.scss']\n})\nexport class UserHistoryComponent extends BaseDirective implements OnChanges, OnInit {\n    @Input() public item: EngineUser;\n\n    public model: any = {};\n\n    constructor(private _service: ApplicationService) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'item',\n            this._service.listen('BACKOFFICE.active_item').subscribe(item => {\n                this.item = item;\n                this.ngOnChanges({ item: new SimpleChange(null, this.item, false) });\n            })\n        );\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.item && this.item) {\n            this.loadUserLogs();\n        }\n    }\n\n    public loadUserLogs(offset: number = 0) {\n        this._service.Logs.query({ offset, user_id: this.item.id }).then((list) => {\n            if (!offset) { this.model.list = []; }\n            for (const item of (list || [])) {\n                let found = false;\n                for (const i of this.model.list) {\n                    if (i.id === item.id) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) { this.model.list.push(item); }\n            }\n        }, () => null);\n    }\n}\n","<div class=\"container\" *ngIf=\"item\">\n    <div class=\"list\" *ngIf=\"model.logs && model.logs.length > 0\">\n        <table>\n            <thead>\n                <td class=\"start\" i18n=\"@@logEventStart\">Session Start</td>\n                <td class=\"end\" i18n=\"@@logEventEnd\">Ended</td>\n                <td class=\"flex\" i18n=\"@@logEventAction\">Systems Accessed</td>\n            </thead>\n            <tbody>\n                <tr *ngFor=\"let item of model.logs\">\n                    <td class=\"start\">{{item.display?.started}}</td>\n                    <td class=\"end\">{{item.display?.ended}}</td>\n                    <td class=\"flex\">\n                        <div>{{item.systems.length}}</div>\n                        <div>View</div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class=\"info-block\" *ngIf=\"!model.logs || model.logs.length <= 0\">\n        <div class=\"text\" i18n=\"@@logTableEmpty\">No logs found</div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { EngineUser } from '@placeos/ts-client';\n\nimport { ApplicationService } from '../../services/app.service';\nimport { BaseRootComponent } from '../../shared/components/base-root.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ItemCreateUpdateModalComponent } from 'src/app/overlays/item-modal/item-modal.component';\nimport {\n    ConfirmModalComponent,\n    ConfirmModalData,\n    CONFIRM_METADATA\n} from 'src/app/overlays/confirm-modal/confirm-modal.component';\nimport { DialogEvent } from 'src/app/shared/utilities/types.utilities';\n\n@Component({\n    selector: 'app-users',\n    templateUrl: './users.template.html',\n    styleUrls: ['./users.styles.scss']\n})\nexport class UsersComponent extends BaseRootComponent<EngineUser> {\n    constructor(\n        protected _service: ApplicationService,\n        protected _route: ActivatedRoute,\n        protected _router: Router,\n        private _dialog: MatDialog\n    ) {\n        super(_service, _route, _router);\n        this.service = this._service.Users as any;\n    }\n\n    public ngOnInit(): void {\n        super.ngOnInit();\n        this._service.title = 'Users';\n    }\n\n    /**\n     * Open the modal to create a new system\n     */\n    protected newItem() {\n        if (this.modal_ref) { return; }\n        this.modal_ref = this._dialog.open(ItemCreateUpdateModalComponent, {\n            height: 'auto',\n            width: 'auto',\n            maxHeight: 'calc(100vh - 2em)',\n            maxWidth: 'calc(100vw - 2em)',\n            data: {\n                item: new EngineUser(),\n                service: this._service.Users\n            }\n        });\n        this.modal_ref.componentInstance.event.subscribe(event => {\n            if (event.reason === 'done') {\n                this._router.navigate(['/users', event.metadata.item.id]);\n            }\n        });\n        this.modal_ref.afterClosed().subscribe(() => {\n            this.unsub('modal_events');\n            this.modal_ref = null;\n        });\n    }\n\n    /**\n     * Open the modal to create a new system\n     */\n    protected editItem() {\n        if (this.item && !this.modal_ref) {\n            this.modal_ref = this._dialog.open(ItemCreateUpdateModalComponent, {\n                height: 'auto',\n                width: 'auto',\n                maxHeight: 'calc(100vh - 2em)',\n                maxWidth: 'calc(100vw - 2em)',\n                data: {\n                    item: this.item,\n                    service: this._service.Users\n                }\n            });\n            this.modal_ref.afterClosed().subscribe(() => {\n                this.unsub('modal_events');\n                this.modal_ref = null;\n            });\n        }\n    }\n\n    protected deleteItem() {\n        if (this.item && !this.modal_ref) {\n            this.modal_ref = this._dialog.open<ConfirmModalComponent, ConfirmModalData>(\n                ConfirmModalComponent,\n                {\n                    ...CONFIRM_METADATA,\n                    data: {\n                        title: `Delete user`,\n                        content: `<p>Are you sure you want delete this user?</p><p>The user will be removed from the system within 24 hours</p>`,\n                        icon: { type: 'icon', class: 'backoffice-trash' }\n                    }\n                }\n            );\n            this.subscription(\n                'delete_confirm',\n                this.modal_ref.componentInstance.event.subscribe((event: DialogEvent) => {\n                    if (event.reason === 'done') {\n                        this.modal_ref.componentInstance.loading = 'Deleting user...';\n                        this.item.delete().then(\n                            () => {\n                                this._service.notifySuccess(\n                                    `Successfully deleted user \"${this.item.name}\".`\n                                );\n                                this._router.navigate(['/users']);\n                                this._service.set('BACKOFFICE.removed', this.item.id);\n                                this.modal_ref.close();\n                            },\n                            err => {\n                                this.modal_ref.componentInstance.loading = null;\n                                this._service.notifyError(`Error deleting user. Error: ${JSON.stringify(err.response || err.message || err)}`);\n                            }\n                        );\n                    }\n                })\n            );\n            this.modal_ref.afterClosed().subscribe(() => {\n                this.unsub('modal_events');\n                this.modal_ref = null;\n            });\n        }\n    }\n}\n","<div class=\"container\" [class.show]=\"show_sidebar\">\n    <div class=\"sidebar\">\n        <sidebar\n            heading=\"Users\"\n            [module]=\"module\"\n            [close]=\"show_sidebar\"\n            (event)=\"sidebarEvent($event)\"\n        ></sidebar>\n    </div>\n    <main (touchrelease)=\"show_sidebar = false\">\n        <item-display\n            name=\"user\"\n            route=\"users\"\n            [item]=\"item\"\n            [loading]=\"loading_item\"\n            [tabs]=\"[\n                { id: 'about', name: 'About', icon: { class: 'backoffice-info-with-circle' } },\n                { id: 'history', name: 'History', icon: { class: 'backoffice-list' } }\n            ]\"\n            (event)=\"itemEvent($event)\"\n        >\n        </item-display>\n    </main>\n</div>\n","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { ROUTES } from './users.routes';\n\nimport { UsersComponent } from './users.component';\nimport { UserAboutComponent } from './user-about/user-about.component';\nimport { UserHistoryComponent } from './user-history/user-history.component';\nimport { SharedContentModule } from 'src/app/shared/shared.module';\n\n\n@NgModule({\n    declarations: [\n        UsersComponent,\n        UserAboutComponent,\n        UserHistoryComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        RouterModule.forChild(ROUTES),\n        SharedContentModule\n    ]\n})\nexport class AppUsersModule { }\n","import { Routes } from '@angular/router';\n\nimport { UsersComponent } from './users.component';\nimport { UserAboutComponent } from './user-about/user-about.component';\nimport { UserHistoryComponent } from './user-history/user-history.component';\n\nexport const ROUTES: Routes = [\n    {\n        path: ':id',\n        component: UsersComponent,\n        children: [\n            { path: 'about', component: UserAboutComponent },\n            { path: 'history', component: UserHistoryComponent },\n            { path: '**', redirectTo: 'about' }\n        ]\n    },\n    { path: '**', redirectTo: '-' }\n];\n"]}